\label{groebner}
\section{Постановка задачи}

Выше сформулированная модель с одним коэффициентом хорошо подходит для использования генератора\footnote{ Имплементацию генерирующую код на Matlab можно найти \href{https://github.com/PavelTrutman/Automatic-Generator}{здесь}.} решателей систем уравнений на основе базисов Грёбнера. Подробная постановка задачи рассмотрена в \cite[p.~121-149]{KukelovaPhD}


\section{Реализация}

Полученный \href{https://github.com/QuantumMechanicus/camera_calibration/blob/dev/subroutines/distortion_groebner_estimator/Groebner_Estimator.cpp#L125}{решатель} оборачивается в RANSAC, в котором мы минимизируем заранее заданный в качестве параметра квантиль выборки ошибок (в смысле \href{https://github.com/QuantumMechanicus/camera_calibration/blob/dev/core/utils/Functors.h#L11}{расстояния} до эпиполярной кривой), то есть функтор ошибки выглядит следующим образом:
\begin{enumerate}
	\item Делаем обратное преобразование дисторсии с помощью оцененного коэффициента для всех ключевых точек изображения с дисторсией ($p_l$ --- точка на левом изображении, $p_r$ --- на правом).
	\item С помощью оцененной фундаментальной  матрицы считаем левые и правые эпилинии для распрямленных точек.
	\item Находим ближайшие точки на соотвествуюших прямых.
	\item Применяем для них преобразование дисторсии, это дает точки на эпиполярных кривых $c_l$ и $c_r$.
	\item Считаем $d\left(p_l, c_l\right)$ и $d\left(p_r, c_r\right)$--- нормы разности для исходной точки и точки на кривой (это является оценкой расстояния до эпиполярной кривой от исходной точки при оцененных параметрах). 
\end{enumerate}

Найденные таким образом оценки фундаментальной матрицы и фокусного расстояния могут быть использованы для дальнейшей оптимизации и калибровки. 